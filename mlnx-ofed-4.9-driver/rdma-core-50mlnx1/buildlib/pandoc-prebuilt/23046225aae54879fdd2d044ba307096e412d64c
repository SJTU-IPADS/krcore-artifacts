.\" Automatically generated by Pandoc 1.16.0.2
.\"
.TH "mlx5dv_alloc_var / mlx5dv_free_var" "3" "" "" ""
.hy
.SH NAME
.PP
mlx5dv_alloc_var \- Allocates a VAR
.PP
mlx5dv_free_var \- Frees a VAR
.SH SYNOPSIS
.IP
.nf
\f[C]
#include\ <infiniband/mlx5dv.h>

struct\ mlx5dv_var\ *
mlx5dv_alloc_var(struct\ ibv_context\ *context,\ uint32_t\ flags);

void\ mlx5dv_free_var(struct\ mlx5dv_var\ *dv_var);
\f[]
.fi
.SH DESCRIPTION
.PP
Create / free a VAR which can be used for some device commands over the
DEVX interface.
.PP
The DEVX API enables direct access from the user space area to the mlx5
device driver, the VAR information is needed for few commands related to
Virtio.
.SH ARGUMENTS
.TP
.B \f[I]context\f[]
RDMA device context to work on.
.RS
.RE
.TP
.B \f[I]flags\f[]
Allocation flags for the UAR.
.RS
.RE
.SS dv_var
.IP
.nf
\f[C]
struct\ mlx5dv_var\ {
\ \ \ \ uint32_t\ page_id;
\ \ \ \ uint32_t\ length;
\ \ \ \ off_t\ mmap_off;
\ \ \ \ uint64_t\ comp_mask;
};
\f[]
.fi
.TP
.B \f[I]page_id\f[]
The device page id to be used.
.RS
.RE
.TP
.B \f[I]length\f[]
The mmap length parameter to be used for mapping a VA to the allocated
VAR entry.
.RS
.RE
.TP
.B \f[I]mmap_off\f[]
The mmap offset parameter to be used for mapping a VA to the allocated
VAR entry.
.RS
.RE
.SH RETURN VALUE
.PP
Upon success \f[I]mlx5dv_alloc_var\f[] returns a pointer to the created
VAR ,on error NULL will be returned and errno will be set.
.SH SEE ALSO
.PP
\f[B]mlx5dv_open_device\f[], \f[B]mlx5dv_devx_obj_create\f[]
.SH AUTHOR
.PP
Yishai Hadas <yishaih@mellanox.com>
